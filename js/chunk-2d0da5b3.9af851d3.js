(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0da5b3"],{"6af8":function(s,a,t){"use strict";t.r(a);var r=t("2877"),n=Object(r.a)({},(function(){var s=this;s.$createElement;return s._self._c,s._m(0)}),[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("html",[t("head"),t("body",[t("h1",[s._v("mixin 混入 & extend 覆盖逻辑")]),t("h2",[s._v("1.data: 组件数据优先")]),t("blockquote",[t("p",[s._v("当"),t("code",{pre:!0},[s._v("组件")]),s._v("和"),t("code",{pre:!0},[s._v("混入对象")]),s._v("含有"),t("code",{pre:!0},[s._v("同名选项")]),s._v("时，这些选项将以恰当的方式进行“"),t("code",{pre:!0},[s._v("合并")]),s._v("”。比如，数据对象在内部会进行递归合并，并在发生冲突时以"),t("code",{pre:!0},[s._v("组件数据优先")]),s._v("。")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" mixin = {\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello'")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("foo")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'abc'")]),s._v("\n    }\n  }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("({\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mixins")]),s._v(": [mixin],\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'goodbye'")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bar")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'def'")]),s._v("\n    }\n  },\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("created")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$data")]),s._v(")\n    "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => { message: "goodbye", foo: "abc", bar: "def" }')]),s._v("\n  }\n})\n")])]),t("h2",[s._v("2.钩子: 混入对象的钩子将在组件自身钩子之前调用")]),t("blockquote",[t("p",[t("code",{pre:!0},[s._v("同名钩子函数")]),s._v("将合并为一个数组，因此都将被调用。另外，混入对象的钩子将在组件自身钩子"),t("code",{pre:!0},[s._v("之前")]),s._v("调用。")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" mixin = {\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("created")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'混入对象的钩子被调用'")]),s._v(")\n  }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("({\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mixins")]),s._v(": [mixin],\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("created")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'组件钩子被调用'")]),s._v(")\n  }\n})\n\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => "混入对象的钩子被调用"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => "组件钩子被调用"')]),s._v("\n")])]),t("h2",[s._v("3.对象：取组件对象的键值对")]),t("blockquote",[t("p",[s._v("值为对象的选项，例如 "),t("code",{pre:!0},[s._v("methods")]),s._v("、"),t("code",{pre:!0},[s._v("components")]),s._v(" 和 "),t("code",{pre:!0},[s._v("directives")]),s._v("，将被合并为同一个对象。两个对象键名冲突时，取"),t("code",{pre:!0},[s._v("组件对象")]),s._v("的键值对。")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" mixin = {\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("foo")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'foo'")]),s._v(")\n    },\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("conflicting")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'from mixin'")]),s._v(")\n    }\n  }\n}\n\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" vm = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("({\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mixins")]),s._v(": [mixin],\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bar")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'bar'")]),s._v(")\n    },\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("conflicting")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),t("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'from self'")]),s._v(")\n    }\n  }\n})\n\nvm."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("foo")]),s._v("() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => "foo"')]),s._v("\nvm."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bar")]),s._v("() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => "bar"')]),s._v("\nvm."),t("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("conflicting")]),s._v("() "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => "from self"')]),s._v("\n")])]),t("p",[s._v("注意："),t("code",{pre:!0},[s._v("Vue.extend()")]),s._v(" 也使用同样的策略进行合并。")]),t("blockquote",[t("p",[s._v("已上都是官方默认的合并策略，当然也可以"),t("code",{pre:!0},[s._v("自定义选项合并策略")])])]),t("p",[t("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/mixins.html#%E5%9F%BA%E7%A1%80"}},[s._v("阅读官方文档")])]),t("p",[t("a",{attrs:{href:"https://juejin.cn/post/6919373017218809864#heading-27"}},[s._v("相关 vue 面试题文档·附：简述 mixin、extends 的覆盖逻辑")])])])])])}],!1,null,null,null);a.default=n.exports}}]);