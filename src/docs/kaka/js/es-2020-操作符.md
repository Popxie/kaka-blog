<!--
 * @Description: JavaScriptæ–‡ä»¶ æ“ä½œç¬¦
 * @Author: xiehuaqiang
 * @FilePath: /kaka-blog/src/docs/kaka/js/es-2020-æ“ä½œç¬¦.md
 * @Date: 2021-06-11 11:17:38
 * @LastEditTime: 2021-06-18 10:01:39
-->

# ä½ çœŸçš„å¾ˆæ‡‚æ“ä½œç¬¦??? [å¥¸ç¬‘]

![01_ä½ çœŸçš„å¾ˆæ‡‚æ“ä½œç¬¦](https://raw.githubusercontent.com/Popxie/kaka-img-repo/master/img/blogs/01_ä½ çœŸçš„å¾ˆæ‡‚æ“ä½œç¬¦.png)

## å‰è¨€

> ä¹‹å‰çœ‹åˆ°äº†ä¸€ç¯‡å¾ˆæ£’çš„å¸–å­ï¼Œè§‰å¾—ä¸åšå°±åšäº†ä¸‹ç¬”è®°ç‰¹ä¸å¤§å®¶åˆ†äº«ï¼é€šå¸¸æƒ…å†µä¸‹æˆ‘éƒ½ä¼šåœ¨æ€»ç»“çš„åŒæ—¶ï¼Œåœ¨æ–‡æœ«é™„å¸¦ã€é˜…è¯»åŸæ–‡ã€‘ï¼Œè¿™æ¬¡æ˜¯çœŸæ‰¾ä¸åˆ°åŸæ–‡äº†ï¼ˆæ—¶é—´æœ‰ç‚¹ä¹…è¿œäº†ï¼‰ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æœ‰å°Šé‡åŸåˆ›çš„æ„è¯†çš„[ç‹—å¤´]Â·Â·Â· å¸Œæœ›æœ¬ç¯‡æ–‡ç« èƒ½å¤Ÿç»™å¤§å®¶å¸¦æ¥ä¸€äº›æ”¶è·~ğŸŒš

å…³é”®è¯ï¼š
[å¯é€‰é“¾æ“ä½œç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/%E5%8F%AF%E9%80%89%E9%93%BE) , [ç©ºå€¼åˆå¹¶æ“ä½œç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator),
ES2020

## å¯é€‰é“¾æ“ä½œç¬¦

`å¯é€‰é“¾æ“ä½œç¬¦( ?. )`å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚`?.` æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº `.`é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸ºç©º(`nullish` ) (`null` æˆ–è€… `undefined`) çš„æƒ…å†µä¸‹ä¸ä¼šå¼•èµ·é”™è¯¯ï¼Œè¯¥è¡¨è¾¾å¼çŸ­è·¯è¿”å›å€¼æ˜¯`undefined`ã€‚ä¸å‡½æ•°è°ƒç”¨ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¦‚æœç»™å®šçš„å‡½æ•°ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› `undefined`ã€‚

å½“å°è¯•è®¿é—®å¯èƒ½ä¸å­˜åœ¨çš„å¯¹è±¡å±æ€§æ—¶ï¼Œå¯é€‰é“¾æ“ä½œç¬¦å°†ä¼šä½¿è¡¨è¾¾å¼æ›´çŸ­ã€æ›´ç®€æ˜ã€‚åœ¨æ¢ç´¢ä¸€ä¸ªå¯¹è±¡çš„å†…å®¹æ—¶ï¼Œå¦‚æœä¸èƒ½ç¡®å®šå“ªäº›å±æ€§å¿…å®šå­˜åœ¨ï¼Œå¯é€‰é“¾æ“ä½œç¬¦ä¹Ÿæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚

```js
const adventurer = {
  name: 'Alice',
  cat: {
    name: 'Dinah'
  }
}

const dogName = adventurer.dog?.name
// expected output: undefined
console.log(dogName) // undefined

// expected output: undefined
console.log(adventurer.someNonExistentMethod?.()) // undefined
```

### è¯­æ³•

```js
obj?.prop
obj?.[expr]
arr?.[index]
func?.(args)
```

### æè¿°

é€šè¿‡è¿æ¥çš„å¯¹è±¡çš„å¼•ç”¨æˆ–å‡½æ•°å¯èƒ½æ˜¯`undefined`æˆ–`null`æ—¶ï¼Œå¯é€‰é“¾æ“ä½œç¬¦æä¾›äº†ä¸€ç§æ–¹æ³•æ¥ç®€åŒ–è¢«è¿æ¥å¯¹è±¡çš„å€¼è®¿é—®ã€‚

æ¯”å¦‚ï¼Œæ€è€ƒä¸€ä¸ªå­˜åœ¨åµŒå¥—ç»“æ„çš„å¯¹è±¡`obj`ã€‚ä¸ä½¿ç”¨`å¯é€‰é“¾`çš„è¯ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªæ·±åº¦åµŒå¥—çš„å­å±æ€§æ—¶ï¼Œéœ€è¦éªŒè¯ä¹‹é—´çš„å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š

```js
let nestedProp = obj.first && obj.first.second
```

ä¸ºäº†é¿å…æŠ¥é”™ï¼Œåœ¨è®¿é—®`obj.first.second`ä¹‹å‰ï¼Œè¦ä¿è¯`obj.first`çš„å€¼æ—¢ä¸æ˜¯`null`ï¼Œä¹Ÿä¸æ˜¯ `undefined`ã€‚å¦‚æœåªæ˜¯ç›´æ¥è®¿é—® `obj.first.second`ï¼Œè€Œä¸å¯¹ `obj.first` è¿›è¡Œæ ¡éªŒï¼Œåˆ™æœ‰å¯èƒ½æŠ›å‡ºé”™è¯¯ã€‚

æœ‰äº†`å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰`ï¼Œåœ¨è®¿é—® `obj.first.second` ä¹‹å‰ï¼Œä¸å†éœ€è¦æ˜ç¡®åœ°æ ¡éªŒ `obj.first` çš„çŠ¶æ€ï¼Œå†å¹¶ç”¨çŸ­è·¯è®¡ç®—è·å–æœ€ç»ˆç»“æœï¼š

```js
let nestedProp = obj.first?.second
```

é€šè¿‡ä½¿ç”¨ `?.` æ“ä½œç¬¦å–ä»£ `.` æ“ä½œç¬¦ï¼ŒJavaScript ä¼šåœ¨å°è¯•è®¿é—®`obj.first.second` ä¹‹å‰ï¼Œå…ˆéšå¼åœ°æ£€æŸ¥å¹¶ç¡®å®š `obj.first` æ—¢ä¸æ˜¯ `null` ä¹Ÿä¸æ˜¯ `undefined`ã€‚å¦‚æœ`obj.first`æ˜¯`null`æˆ–è€…`undefined`ï¼Œè¡¨è¾¾å¼å°†ä¼šçŸ­è·¯è®¡ç®—ç›´æ¥è¿”å› `undefined`ã€‚

è¿™ç­‰ä»·äºä»¥ä¸‹è¡¨è¾¾å¼ï¼Œä½†å®é™…ä¸Šæ²¡æœ‰åˆ›å»ºä¸´æ—¶å˜é‡ï¼š

```js
let temp = obj.first
let nestedProp = temp === null || temp === undefined ? undefined : temp.second
```

### å¯é€‰é“¾ä¸å‡½æ•°è°ƒç”¨

å½“å°è¯•è°ƒç”¨ä¸€ä¸ªå¯èƒ½ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¯é€‰é“¾ã€‚è¿™å°†æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œæ¯”å¦‚ï¼Œå½“ä½¿ç”¨ä¸€ä¸ª API çš„æ–¹æ³•å¯èƒ½ä¸å¯ç”¨æ—¶ï¼Œè¦ä¹ˆå› ä¸ºå®ç°çš„ç‰ˆæœ¬é—®é¢˜è¦ä¹ˆå› ä¸ºå½“å‰ç”¨æˆ·çš„è®¾å¤‡ä¸æ”¯æŒè¯¥åŠŸèƒ½ã€‚

å‡½æ•°è°ƒç”¨æ—¶å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œä½¿ç”¨å¯é€‰é“¾å¯ä»¥ä½¿è¡¨è¾¾å¼è‡ªåŠ¨è¿”å›`undefined`è€Œä¸æ˜¯æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚

```js
let result = someInterface.customMethod?.()
```

> æ³¨æ„: å¦‚æœå­˜åœ¨ä¸€ä¸ªå±æ€§åä¸”ä¸æ˜¯å‡½æ•°, ä½¿ç”¨ ?. ä»ç„¶ä¼šäº§ç”Ÿä¸€ä¸ª TypeError å¼‚å¸¸ (x.y is not a function).

#### å¤„ç†å¯é€‰çš„å›è°ƒå‡½æ•°æˆ–è€…äº‹ä»¶å¤„ç†å™¨

å¦‚æœä½¿ç”¨[è§£æ„èµ‹å€¼](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)æ¥è§£æ„çš„ä¸€ä¸ªå¯¹è±¡çš„å›è°ƒå‡½æ•°æˆ– fetch æ–¹æ³•ï¼Œä½ å¯èƒ½å¾—åˆ°ä¸èƒ½å½“åšå‡½æ•°ç›´æ¥è°ƒç”¨çš„ä¸å­˜åœ¨çš„å€¼ï¼Œé™¤éä½ å·²ç»æ ¡éªŒäº†ä»–ä»¬çš„å­˜åœ¨æ€§ã€‚ä½¿ç”¨?.çš„ä½ å¯ä»¥å¿½ç•¥è¿™äº›é¢å¤–çš„æ ¡éªŒ:

```js
//  ES2019çš„å†™æ³•
function doSomething(onContent, onError) {
  try {
    // ... do something with the data
  } catch (err) {
    if (onError) {
      // æ ¡éªŒonErroræ˜¯å¦çœŸçš„å­˜åœ¨
      onError(err.message)
    }
  }
}
```

```js
// ES2020çš„å†™æ³• ä½¿ç”¨å¯é€‰é“¾è¿›è¡Œå‡½æ•°è°ƒç”¨
function doSomething(onContent, onError) {
  try {
    // ... do something with the data
  } catch (err) {
    onError?.(err.message) // å¦‚æœonErroræ˜¯undefinedä¹Ÿä¸ä¼šæœ‰å¼‚å¸¸
  }
}
```

### å¯é€‰é“¾å’Œè¡¨è¾¾å¼

å½“ä½¿ç”¨[æ–¹æ‹¬å·ä¸å±æ€§å](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Property_Accessors#%E6%96%B9%E6%8B%AC%E5%8F%B7%E8%A1%A8%E7%A4%BA%E6%B3%95)çš„å½¢å¼æ¥è®¿é—®å±æ€§æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦ï¼š

```js
let nestedProp = obj?.['prop' + 'Name']
```

#### å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼

```js
let object = {}
object?.property = 1 // Uncaught SyntaxError: Invalid left-hand side in assignment
```

#### å¯é€‰é“¾è®¿é—®æ•°ç»„å…ƒç´ 

```js
let arrayItem = arr?.[42]
```

### ä¾‹å­

#### åŸºæœ¬ä¾‹å­

å¦‚ä¸‹çš„ä¾‹å­åœ¨ä¸€ä¸ªä¸å« `bar` æˆå‘˜çš„ Map ä¸­æŸ¥æ‰¾`bar`æˆå‘˜çš„`name`å±æ€§ï¼Œå› æ­¤ç»“æœæ˜¯ `undefined`ã€‚

```js
let myMap = new Map()
myMap.set('foo', { name: 'baz', desc: 'inga' })

let nameBar = myMap.get('bar')?.name
```

#### çŸ­è·¯è®¡ç®—

å½“åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨å¯é€‰é“¾æ—¶ï¼Œå¦‚æœå·¦æ“ä½œæ•°æ˜¯`null`æˆ–`undefined`ï¼Œè¡¨è¾¾å¼å°†ä¸ä¼šè¢«è®¡ç®—ï¼Œä¾‹å¦‚ï¼š

```js
let potentiallyNullObj = null
let x = 0
let prop = potentiallyNullObj?.[x++]

console.log(x) // x å°†ä¸ä¼šè¢«é€’å¢ï¼Œä¾æ—§è¾“å‡º 0
```

#### è¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦

å¯ä»¥è¿ç»­ä½¿ç”¨å¯é€‰é“¾è¯»å–å¤šå±‚åµŒå¥—ç»“æ„ï¼š

```js
let customer = {
  name: 'Carl',
  details: {
    age: 82,
    location: 'Paradise Falls' // details çš„ address å±æ€§æœªæœ‰å®šä¹‰
  }
}

let customerCity = customer.details?.address?.city

// â€¦ å¯é€‰é“¾ä¹Ÿå¯ä»¥å’Œå‡½æ•°è°ƒç”¨ä¸€èµ·ä½¿ç”¨
let duration = vacations.trip?.getTime?.()
```

#### ä½¿ç”¨ç©ºå€¼åˆå¹¶æ“ä½œç¬¦

[ç©ºå€¼åˆå¹¶æ“ä½œç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Nullish_Coalescing_Operator)å¯ä»¥åœ¨ä½¿ç”¨å¯é€‰é“¾æ—¶è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼š

```js
let customer = {
  name: 'Carl',
  details: { age: 82 }
}
let customerCity = customer?.city ?? 'æš—ä¹‹åŸ'
console.log(customerCity) // â€œæš—ä¹‹åŸâ€
```

## ç©ºå€¼åˆå¹¶æ“ä½œç¬¦

`ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰`æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º null æˆ–è€… undefined æ—¶ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚

ä¸[é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ`||`ï¼‰](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_OR_2)ä¸åŒï¼Œé€»è¾‘æˆ–æ“ä½œç¬¦ä¼šåœ¨å·¦ä¾§æ“ä½œæ•°ä¸º[å‡å€¼](https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy)æ—¶è¿”å›å³ä¾§æ“ä½œæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½¿ç”¨ `||` æ¥ä¸ºæŸäº›å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¯èƒ½ä¼šé‡åˆ°æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚æ¯”å¦‚ä¸ºå‡å€¼ï¼ˆä¾‹å¦‚ï¼Œ`''` æˆ– `0`ï¼‰æ—¶ã€‚è§ä¸‹é¢çš„ä¾‹å­ã€‚

```js
const foo = null ?? 'default string'
// expected output: "default string"
console.log(foo) // "default string"

const baz = 0 ?? 42
// expected output: 0

console.log(baz) // 0
```

### è¯­æ³•

```js
leftExpr ?? rightExpr
```

### ä½¿ç”¨ç©ºå€¼åˆå¹¶æ“ä½œç¬¦

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¸ºå¸¸é‡æä¾›é»˜è®¤å€¼ï¼Œä¿è¯å¸¸é‡ä¸ä¸º `null` æˆ–è€… `undefined`ã€‚

```js
const nullValue = null
const emptyText = '' // ç©ºå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªå‡å€¼ï¼ŒBoolean("") === false
const someNumber = 42

const valA = nullValue ?? 'valA çš„é»˜è®¤å€¼'
const valB = emptyText ?? 'valB çš„é»˜è®¤å€¼'
const valC = someNumber ?? 0

console.log(valA) // "valA çš„é»˜è®¤å€¼"
console.log(valB) // ""ï¼ˆç©ºå­—ç¬¦ä¸²è™½ç„¶æ˜¯å‡å€¼ï¼Œä½†ä¸æ˜¯ null æˆ–è€… undefinedï¼‰
console.log(valC) // 42
```

### ä¸ºå˜é‡èµ‹é»˜è®¤å€¼

ä»¥å‰ï¼Œå¦‚æœæƒ³ä¸ºä¸€ä¸ªå˜é‡èµ‹é»˜è®¤å€¼ï¼Œé€šå¸¸çš„åšæ³•æ˜¯ä½¿ç”¨é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ[||](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_OR_2)ï¼‰ï¼š

```js
let foo

//  foo is never assigned any value so it is still undefined
let someDummyText = foo || 'Hello!'
```

ç„¶è€Œï¼Œç”±äº `||` æ˜¯ä¸€ä¸ªå¸ƒå°”é€»è¾‘è¿ç®—ç¬¦ï¼Œå·¦ä¾§çš„æ“ä½œæ•°ä¼šè¢«å¼ºåˆ¶è½¬æ¢æˆå¸ƒå°”å€¼ç”¨äºæ±‚å€¼ã€‚ä»»ä½•å‡å€¼ï¼ˆ`0`ï¼Œ `''`ï¼Œ `NaN`ï¼Œ `null`ï¼Œ `undefined`ï¼‰éƒ½ä¸ä¼šè¢«è¿”å›ã€‚è¿™å¯¼è‡´å¦‚æœä½ ä½¿ç”¨`0`ï¼Œ`''`æˆ–`NaN`ä½œä¸ºæœ‰æ•ˆå€¼ï¼Œå°±ä¼šå‡ºç°ä¸å¯é¢„æ–™çš„åæœã€‚

```js
let count = 0 //
let text = ''

let qty = count || 42
let message = text || 'hi!'

console.log(qty) // 42ï¼Œè€Œä¸æ˜¯ 0
console.log(message) // "hi!"ï¼Œè€Œä¸æ˜¯ ""
```

ç©ºå€¼åˆå¹¶æ“ä½œç¬¦å¯ä»¥é¿å…è¿™ç§é™·é˜±ï¼Œå…¶åªåœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸º`null` æˆ– `undefined` æ—¶ï¼ˆè€Œä¸æ˜¯å…¶å®ƒå‡å€¼ï¼‰è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼š

```js
let myText = '' // An empty string (which is also a falsy value)

let notFalsyText = myText || 'Hello world'
console.log(notFalsyText) // Hello world

let preservingFalsy = myText ?? 'Hi neighborhood'
console.log(preservingFalsy) // '' (as myText is neither undefined nor null)
```

### çŸ­è·¯

ä¸ OR å’Œ AND é€»è¾‘æ“ä½œç¬¦ç›¸ä¼¼ï¼Œå½“å·¦è¡¨è¾¾å¼ä¸ä¸º `null` æˆ– `undefined` æ—¶ï¼Œä¸ä¼šå¯¹å³è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚

```js
function A() {
  console.log('å‡½æ•° A è¢«è°ƒç”¨äº†')
  return undefined
}
function B() {
  console.log('å‡½æ•° B è¢«è°ƒç”¨äº†')
  return false
}
function C() {
  console.log('å‡½æ•° C è¢«è°ƒç”¨äº†')
  return 'foo'
}

console.log(A() ?? C())
// ä¾æ¬¡æ‰“å° "å‡½æ•° A è¢«è°ƒç”¨äº†"ã€"å‡½æ•° C è¢«è°ƒç”¨äº†"ã€"foo"
// A() è¿”å›äº† undefinedï¼Œæ‰€ä»¥æ“ä½œç¬¦ä¸¤è¾¹çš„è¡¨è¾¾å¼éƒ½è¢«æ‰§è¡Œäº†

console.log(B() ?? C())
// ä¾æ¬¡æ‰“å° "å‡½æ•° B è¢«è°ƒç”¨äº†"ã€"false"
// B() è¿”å›äº† falseï¼ˆæ—¢ä¸æ˜¯ null ä¹Ÿä¸æ˜¯ undefinedï¼‰
// æ‰€ä»¥å³ä¾§è¡¨è¾¾å¼æ²¡æœ‰è¢«æ‰§è¡Œ
```

### ä¸èƒ½ä¸ AND æˆ– OR æ“ä½œç¬¦å…±ç”¨

å°† `??` ç›´æ¥ä¸ ANDï¼ˆ`&&`ï¼‰å’Œ ORï¼ˆ`||`ï¼‰æ“ä½œç¬¦ç»„åˆä½¿ç”¨æ˜¯ä¸å¯å–çš„ã€‚ï¼ˆè¯‘è€…æ³¨ï¼šåº”å½“æ˜¯å› ä¸ºç©ºå€¼åˆå¹¶æ“ä½œç¬¦å’Œå…¶ä»–é€»è¾‘æ“ä½œç¬¦ä¹‹é—´çš„è¿ç®—ä¼˜å…ˆçº§/è¿ç®—é¡ºåºæ˜¯æœªå®šä¹‰çš„ï¼‰è¿™ç§æƒ…å†µä¸‹ä¼šæŠ›å‡º SyntaxError ã€‚

```js
// bad
null || undefined ?? "foo"; // æŠ›å‡º SyntaxError
true || undefined ?? "foo"; // æŠ›å‡º SyntaxError
```

ä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨æ‹¬å·æ¥æ˜¾å¼è¡¨æ˜è¿ç®—ä¼˜å…ˆçº§ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š

```js
// good
;(null || undefined) ?? 'foo' // è¿”å› "foo"
```

### ä¸å¯é€‰é“¾å¼æ“ä½œç¬¦ï¼ˆ?.ï¼‰çš„å…³ç³»

ç©ºå€¼åˆå¹¶æ“ä½œç¬¦é’ˆå¯¹ `undefined` ä¸ `null` è¿™ä¸¤ä¸ªå€¼ï¼Œ[å¯é€‰é“¾å¼æ“ä½œç¬¦ï¼ˆ?.ï¼‰](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining) ä¹Ÿæ˜¯å¦‚æ­¤ã€‚åœ¨è¿™è®¿é—®å±æ€§å¯èƒ½ä¸º `undefined` ä¸ `null` çš„å¯¹è±¡æ—¶ï¼Œå¯é€‰é“¾å¼æ“ä½œç¬¦éå¸¸æœ‰ç”¨ã€‚

```js
let foo = { someFooProp: 'hi' }

console.log(foo.someFooProp?.toUpperCase()) // "HI"
console.log(foo.someBarProp?.toUpperCase()) // undefined
```

[è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦åˆ†ç±»Â·MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators)
